[toc]

## 变量与地址

```c
int i = 1;
int *p = &i;
int **q = &p;
```

变量存在于内存中，每个位置都有固定的地址。

变量名是具体内存空间的抽象表示。

指针等价于地址值。

## 指针与指针变量

用来保存指针的变量。保存的是具有指向作用的地址。

地址值是常量，指针变量是可以改变的，通常所说将指针指向某处意思是改变指针变量的值。

`int *p = &i`中`*`指定的是`int`类型的定义，而与p无关，可以将其看成普通变量。

==不管是几级指针，不管指针是什么类型，其在内存中占用的字节数在一个系统中是固定的==。

==指针的类型与指向的数值类型必须要统一==。

## 直接访问与间接访问

```c
i *p **q
&i p  *q
```

程序中有两种方式可以访问i的值：

- 直接访问：直接访问i

- 间接访问：通过p（即i的地址）访问

  

## 空指针与野指针

将指针变量的内容设置为空（NULL），即不保存任何地址，不指向任何数据。

```c
int *p = NULL;
```

类似与JS中将对象的引用设置为null，则会被垃圾回收。



野指针是指指针变量的内容为随机值或者强行设置一个值，如果读取这个地址所保存的值是无意义的。通常访问会报段错误。

如果定义了指针，则必须确定地址变量的值，如果不确定需要设置为NULL，这样可以杜绝野指针的使用。

## 空类型

```c
void *p = NULL;
```

不确定数据类型的时候使用

## 定义与初始化的书写规则

## 指针运算

- `&`：表示取变量的地址
- `*`：表示取变量的值，后面接的可以看成是一个地址值。
- 关系运算：比较大小（指针地址值的高低，在数组这样的连续空间才有意义）
- 自增、自减：改变指针所指向的位置

## 指针与数组

数组在内存中是连续存放的。

### 一维数组

```c
int a[3] = {1, 2, 3};
int *p = a;
```

获取数组a中的某个值的方式有：

```c
a[i] = *(a + i) = *(p + i) = p[i]
```

获取数组a中某个值的地址的方式有：

```c
&a[i] = a + i = p + i = &p[i]
```

==a与p的区别==是：

- a是表示数组名的常量

  ```c
  a++;	//等价于a = a + 1;
  ```

  等号左边表示可以赋值，而a为常量，所以报错。

- p是保存地址的变量

  ```c
  p++;	//等价于 p = p + 1
  p + 1;
  ```

  第一行p的指向改变了，而第二行没有左值，p的指向没有改变。

例子：

```c
int main(){
	int a[3] = {1, 2, 3};
    int y;
    int *p = &a[1];
    
    y = (*--p)++;
    printf("y = %d\n", y);
    printf("a[0] = %d\n", a[0]);
    
    exit(0);
}

//结果
y = 1
a[0] = 1
```

注意`(*--p)`获取到`a[0]`的之后可以直接修改。

### 二维数组



## const与指针

## 指针数组与数组指针

## 多级指针